<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.Tooltip?>

<!--
    Main window layout for the PX Submission Tool.
    Structure:
    - Header: Logo, title, description, training mode indicator
    - Content: StackPane for wizard step content (with transitions)
    - Footer: Navigation buttons (Help, Cancel, Back, Next)
-->
<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="uk.ac.ebi.pride.pxsubmit.controller.WizardController"
            styleClass="main-window">

    <!-- Header -->
    <top>
        <VBox fx:id="headerPane" styleClass="wizard-header">
            <padding>
                <Insets top="15" right="20" bottom="15" left="20"/>
            </padding>

            <HBox alignment="CENTER_LEFT" spacing="15">
                <!-- Logo -->
                <ImageView fitHeight="50" fitWidth="180" preserveRatio="true">
                    <image>
                        <Image url="@../images/pride_logo.png"/>
                    </image>
                </ImageView>

                <!-- Spacer -->
                <Region HBox.hgrow="ALWAYS"/>

                <!-- Test Mode Indicator -->
                <Label fx:id="trainingModeLabel"
                       text="TEST MODE"
                       styleClass="training-mode-badge"
                       visible="false"
                       managed="false"/>
            </HBox>

            <!-- Step Progress Indicator -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <padding>
                    <Insets top="10"/>
                </padding>

                <Label fx:id="stepIndicatorLabel"
                       text="Step 1 of 9"
                       styleClass="step-indicator"/>

                <ProgressBar fx:id="stepProgressBar"
                             progress="0.0"
                             prefWidth="200"
                             maxHeight="6"
                             styleClass="step-progress"/>

                <!-- Spacer -->
                <Region HBox.hgrow="ALWAYS"/>
            </HBox>

            <!-- Title and Description -->
            <VBox spacing="5">
                <padding>
                    <Insets top="5"/>
                </padding>
                <Label fx:id="titleLabel"
                       text="Welcome"
                       styleClass="wizard-title"/>
                <Label fx:id="descriptionLabel"
                       text="Start your proteomics data submission"
                       styleClass="wizard-description"/>
            </VBox>
        </VBox>
    </top>

    <!-- Content Area -->
    <center>
        <StackPane fx:id="contentPane" styleClass="content-pane">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
        </StackPane>
    </center>

    <!-- Footer - Navigation Buttons -->
    <bottom>
        <HBox fx:id="buttonBar" styleClass="button-bar" alignment="CENTER_RIGHT" spacing="10">
            <padding>
                <Insets top="10" right="20" bottom="15" left="20"/>
            </padding>

            <!-- Help Button (left side) -->
            <Button fx:id="helpButton"
                    text="Help"
                    styleClass="help-button">
                <tooltip>
                    <Tooltip text="Get help with the submission process"/>
                </tooltip>
            </Button>

            <!-- Spacer to push other buttons to the right -->
            <Region HBox.hgrow="ALWAYS"/>

            <!-- Cancel Button -->
            <Button fx:id="cancelButton"
                    text="Cancel"
                    styleClass="cancel-button">
                <tooltip>
                    <Tooltip text="Cancel and exit the submission wizard"/>
                </tooltip>
            </Button>

            <!-- Spacer between Cancel and Back/Next -->
            <Region prefWidth="30"/>

            <!-- Back Button -->
            <Button fx:id="backButton"
                    text="Back"
                    styleClass="back-button">
                <tooltip>
                    <Tooltip text="Go back to the previous step"/>
                </tooltip>
            </Button>

            <!-- Next Button -->
            <Button fx:id="nextButton"
                    text="Next"
                    styleClass="next-button"
                    defaultButton="true">
                <tooltip>
                    <Tooltip fx:id="nextButtonTooltip" text="Proceed to the next step"/>
                </tooltip>
            </Button>
        </HBox>
    </bottom>

</BorderPane>
